# Altough certificates could be autogenerated by annotating the gateway ressource, I decided to create it explicitly 
# Autogen:
#   https://cert-manager.io/docs/usage/gateway/
# Manually:
#   https://cert-manager.io/docs/usage/certificate/
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: my-cert
  namespace: default # MUST BE IN SAME NAMESPACE AS GATEWAY
spec:
  secretName: my-tls-secret
  # Entries beginning with a or b will later be used for testing host based routing
  dnsNames:
    - web-app.localhost
    - a.web-app.localhost
    - b.web-app.localhost
    - www.example.com
    - www.a.example.com
    - www.b.example.com
  issuerRef:
    name: my-ca-issuer
    kind: ClusterIssuer